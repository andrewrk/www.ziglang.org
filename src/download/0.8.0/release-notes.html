<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>0.8.0 Release Notes ⚡ The Zig Programming Language</title>
    <link rel="icon" href="https://ziglang.org/favicon.png">
    <style>
      body{
        font-family: system-ui, -apple-system, Roboto, "Segoe UI", sans-serif;
        line-height: 1.45;
        margin-left: 0;
        margin-right: 0;
      }
      p {
        margin: 0.8em 0;
      }

      h1, h2, h3, h4, h5 {
        margin: 0.5em 0 0.5em;
        line-height: 1.2;
        font-weight: bold;
        color: #666;
      }

      h1 a, h2 a, h3 a, h4 a, h5 a {
        text-decoration: none;
        color: #666;
      }

      h1 { font-size: 2.0em; }

      h2 { font-size: 1.5em; }

      h3 { font-size: 1.25em; }

      h4 { font-size: 1.0em; }

      a.hdr {
        visibility: hidden;
      }
      h1:hover > a.hdr, h2:hover > a.hdr, h3:hover > a.hdr, h4:hover > a.hdr, h5:hover > a.hdr {
        visibility: visible;
      }

      a {
        color: #2A6286;
      }

      a:not(:hover) {
        text-decoration: none;
      }

      th, td {
        padding: 0.6em;
        text-align: left;
      }

      td {
        font-size: 0.96em;
      }

      th {
        border-bottom: 2px solid #f2f3f3;
      }

      tr:nth-child(even) {
        background: #f2f3f3;
      }

      .t0_1, .t37, .t37_1 {
        font-weight: bold;
      }
      .t2_0 {
        color: grey;
      }
      .t31_1 {
        color: red;
      }
      .t32_1 {
        color: green;
      }
      .t36_1 {
        color: #0086b3;
      }
      .file {
        text-decoration: underline;
      }
      pre,code {
        font-size: 12pt;
      }
      pre > code {
        display: block;
        overflow: auto;
        padding: 0.5em;
        color: #333;
        background: #f8f8f8;
      }
      .table-wrapper {
        width: 100%;
        overflow-y: auto;
      }

      .tok-kw {
          color: #333;
          font-weight: bold;
      }
      .tok-str {
          color: #d14;
      }
      .tok-builtin {
          color: #0086b3;
      }
      .tok-comment {
          color: #777;
          font-style: italic;
      }
      .tok-fn {
          color: #900;
          font-weight: bold;
      }
      .tok-null {
          color: #008080;
      }
      .tok-number {
          color: #008080;
      }
      .tok-type {
          color: #458;
          font-weight: bold;
      }

      #contents {
        max-width: 60em;
        margin: auto;
        padding: 0 0.2em;
      }

      #logo {
        width: 100%;
        height: 7em;
        display: block;
        background-image: url(https://ziglang.org/img/zig-logo-dark.svg);
        background-repeat: no-repeat;
      }

      @media (prefers-color-scheme: dark) {
        body{
            background-color:#111;
            color: #bbb;
        }
        a {
            color: #88f;
        }
        table, th, td {
            border-color: grey;
        }
        tr:nth-child(even) {
          background: #1e1e1e;
        }
        .t2_0 {
            color: grey;
        }
        .t31_1 {
            color: red;
        }
        .t32_1 {
            color: green;
        }
        .t36_1 {
            color: #0086b3;
        }
        pre > code {
            color: #ccc;
            background: #222;
        }
        .tok-kw {
            color: #eee;
        }
        .tok-str {
            color: #2e5;
        }
        .tok-builtin {
            color: #ff894c;
        }
        .tok-comment {
            color: #aa7;
        }
        .tok-fn {
            color: #e33;
        }
        .tok-null {
            color: #ff8080;
        }
        .tok-number {
            color: #ff8080;
        }
        .tok-type {
            color: #68f;
        }
        h1, h2, h3, h4, h5 {
          color: #aaa;
        }
        h1 a, h2 a, h3 a, h4 a, h5 a {
            color: #aaa;
        }
        #logo {
          background-image: url(https://ziglang.org/img/zig-logo-light.svg);
        }
      }
    </style>
  </head>
  <body>
    <div id="contents">
    <a href="https://ziglang.org/"><span id="logo"></span></a>
    <h1>0.8.0 Release Notes</h1>
    <p>
    <a href="https://ziglang.org/download/">Download &amp; Documentation</a>
    </p>
    <p>
    Zig is a general-purpose programming language and toolchain for maintaining
    <strong>robust</strong>, <strong>optimal</strong>, and <strong>reusable</strong> software.
    </p>
    <p>
    Backed by the <a href="/zsf/">Zig Software Foundation</a>,
    the project is <strong>financially sustainable</strong> and offers billable
    hours for core team members:
    </p>
    <ul style="columns: 3">
      <li><a href="https://kristoff.it/">Loris Cro</a></li>
      <li><a href="http://www.jakubkonka.com/">Jakub Konka</a></li>
      <li><a href="https://vexu.eu/">Veikka Tuominen</a></li>
      <li><a href="https://github.com/SpexGuy">Martin Wickham</a></li>
      <li><a href="https://github.com/alexnask">Alexandros Naskos</a></li>
    </ul>
    <p>
    This release features <strong>7 months of work</strong> and
    changes from <strong>144 different contributors</strong>, spread among
    <strong>2711 commits</strong>.
    </p>
    <p>
    Please consider <a href="/zsf/">donating to the ZSF</a> to help us pay even more contributors!
    </p>
    {#header_open|Table of Contents#}
    {#nav#}
    {#header_close#}

    {#header_open|Support Table#}
    {#header_open|Tier System#}
    <p>
    A green check mark (✅) indicates the target meets all the requirements for the
    support tier. The other icons indicate what is preventing the target from
    reaching the support tier. If you find any wrong data here please
    <a href="https://github.com/ziglang/www.ziglang.org">submit a pull request</a>!
    </p>
    {#header_open|Tier 1 Support#}
    <ul>
      <li>Not only can Zig generate machine code for these targets, but the standard
        library cross-platform abstractions have implementations for these targets.</li>
      <li>📦 The CI server automatically tests these targets on every commit to master
      branch, and updates <a href="https://ziglang.org/download/">the download page</a>
      with links to pre-built binaries.</li>
      <li>These targets have debug info capabilities and therefore produce stack traces
        on failed assertions.</li>
      <li>libc is available for this target even when cross compiling.</li>
      <li>🐛 All the behavior tests and applicable standard library tests pass for this target.
          All language features are known to work correctly. Experimental features do not
          count towards disqualifying an operating system or architecture from Tier 1.</li>
      <li><code>zig cc</code>, <code>zig c++</code> and related toolchain commands support
        this target.</li>
      <li>💀 If the Operating System is proprietary then the target is not marked deprecated
        by the vendor,
        <a href="https://support.apple.com/en-us/HT208436">such as macos/i386</a>.</li>
    </ul>
    <table>
    <thead>
    <tr>
    <th></th>
    <th>freestanding</th>
    <th>Linux 3.16+</th>
    <th>macOS 10.13+</th>
    <th>Windows 8.1+</th>
    <th>WASI</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>x86_64</td>
    <td>✅</td>
    <td>✅</td>
    <td>✅</td>
    <td>✅</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>x86</td>
    <td>✅</td>
    <td>🐛📦</td>
    <td>💀</td>
    <td>🐛📦</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>aarch64</td>
    <td>✅</td>
    <td>🐛</td>
    <td>✅</td>
    <td>🐛📦</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>arm</td>
    <td>✅</td>
    <td>🐛📦</td>
    <td>N/A</td>
    <td>🐛📦</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>mips</td>
    <td>✅</td>
    <td>🐛📦</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>riscv64</td>
    <td>✅</td>
    <td>🐛📦</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>wasm32</td>
    <td>✅</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>✅</td>
    </tr>
    </tbody>
    </table>
    {#header_close#}

    {#header_open|Tier 2 Support#}
    <ul>
    <li>📖 The standard library supports this target, but it's possible that some
      APIs will give an "Unsupported OS" compile error. One can link with libc or other
      libraries to fill in the gaps in the standard library.</li>
    <li>🔍 These targets are known to work, but may not be automatically tested, so there
      are occasional regressions.</li>
    <li>Some tests may be disabled for these targets as we work toward
      {#link|Tier 1 Support#}.
    </li>
    </ul>
    <table>
    <thead>
    <tr>
    <th></th>
    <th>free standing</th>
    <th>Linux 3.16+</th>
    <th>macOS 10.13+</th>
    <th>Windows 8.1+</th>
    <th>FreeBSD 12.0+</th>
    <th>NetBSD 8.0+</th>
    <th>DragonFlyBSD 5.8+</th>
    <th>UEFI</th>
    </tr>
    </thead>
    <tbody>
    <tr>
    <td>x86_64</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>✅</td>
    <td>✅</td>
    <td>✅</td>
    <td>✅</td>
    </tr>
    <tr>
    <td>x86</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>✅</td>
    <td>💀</td>
    <td>✅</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>✅</td>
    </tr>
    <tr>
    <td>aarch64</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>✅</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>🔍</td>
    </tr>
    <tr>
    <td>arm</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>✅</td>
    <td>N/A</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>🔍</td>
    </tr>
    <tr>
    <td>mips64</td>
    <td>✅</td>
    <td>✅</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>mips</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>✅</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>powerpc64</td>
    <td>✅</td>
    <td>📖</td>
    <td>💀</td>
    <td>N/A</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>powerpc</td>
    <td>✅</td>
    <td>✅</td>
    <td>💀</td>
    <td>N/A</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>N/A</td>
    </tr>
    <tr>
    <td>riscv64</td>
    <td>{#link|Tier 1|Tier 1 Support#}</td>
    <td>✅</td>
    <td>N/A</td>
    <td>N/A</td>
    <td>🔍</td>
    <td>🔍</td>
    <td>N/A</td>
    <td>🔍</td>
    </tr>
    </tbody>
    </table>
    {#header_close#}

    {#header_open|Tier 3 Support#}
    <ul>
    <li>The standard library has little to no knowledge of the existence of this
        target.</li>
    <li>If this target is provided by LLVM, LLVM has the target enabled by default.</li>
    <li>These targets are not frequently tested; one will likely need to contribute
      to Zig in order to build for these targets.</li>
    <li>The Zig compiler might need to be updated with a few things such as<ul>
       <li>what sizes are the C integer types</li>
       <li>C ABI calling convention for this target</li>
       <li>start code and default panic handler</li>
     </ul>
     <li><code>zig targets</code> is guaranteed to include this target.</li>
    </ul>
    <table>
      <thead>
        <tr>
          <th></th>
          <th>free standing</th>
          <th>Linux 3.16+</th>
          <th>Windows 8.1+</th>
          <th>FreeBSD 12.0+</th>
          <th>NetBSD 8.0+</th>
          <th>UEFI</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>x86_64</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
        </tr>
        <tr>
          <td>x86</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>✅</td>
          <td>✅</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
        </tr>
        <tr>
          <td>aarch64</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>✅</td>
          <td>✅</td>
          <td>✅</td>
          <td>✅</td>
        </tr>
        <tr>
          <td>arm</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>✅</td>
          <td>✅</td>
          <td>✅</td>
          <td>✅</td>
        </tr>
        <tr>
          <td>mips64</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>mips</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>riscv64</td>
          <td>{#link|Tier 1|Tier 1 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>✅</td>
        </tr>
        <tr>
          <td>powerpc32</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>powerpc64</td>
          <td>{#link|Tier 2|Tier 2 Support#}</td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>bpf</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>hexagon</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>amdgcn</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>sparc</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>s390x</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
        <tr>
          <td>lanai</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
          <td>✅</td>
          <td>✅</td>
          <td>N/A</td>
        </tr>
      </tbody>
    </table>
    {#header_close#}

    {#header_open|Tier 4 Support#}
    <ul>
      <li>Support for these targets is entirely experimental.</li>
      <li>If this target is provided by LLVM, LLVM may have the target as an
        experimental target, which means that you need to use Zig-provided binaries
        for the target to be available, or build LLVM from source with special configure flags.
        <code>zig targets</code> will display the target if it is available.</li>
      <li>This target may be considered deprecated by an official party,
        <a href="https://support.apple.com/en-us/HT208436">such as macosx/i386</a> in which
        case this target will remain forever stuck in Tier 4.</li>
      <li>This target may only support <code>-femit-asm</code> and cannot emit object files
        (<code>-fno-emit-bin</code> enabled by default and cannot be overridden).</li>
    </ul>
    <p>Tier 4 targets:</p>
    <ul style="columns: 3">
      <li>avr</li>
      <li>riscv32</li>
      <li>xcore</li>
      <li>nvptx</li>
      <li>msp430</li>
      <li>r600</li>
      <li>arc</li>
      <li>tce</li>
      <li>le</li>
      <li>amdil</li>
      <li>hsail</li>
      <li>spir</li>
      <li>kalimba</li>
      <li>shave</li>
      <li>renderscript</li>
      <li>32-bit x86 macOS, as well as powerpc32 and powerpc64 macOS, because Apple has
          officially dropped support for them.</li>
    </ul>
    {#header_close#}
    {#header_close#}

    {#header_open|Windows Support#}
    Windows TLS startup symbols are already provided by libcrt when linking against libc

Contributors: Alexandros Naskos
    {#header_close#}

    {#header_open|macOS Support#}
    <p>macOS development in the past 6 months has been tumultuous, with the major breaking changes
    of Big Sur and the announcement of the upcoming aarch64 hardware.</p>
    <p>TODO</p>
SYSTEM_LINKER_HACK
    macos: avoid --export-dynamic when using system linker

 * fetch-them-macos-headers #7035
   - headers now available for x86_64-macos-gnu and aarch64-macos-gnu
   - depend on bundled headers even for native. #6773
   - jakub & andrew
    {#header_close#}

    {#header_open|Haiku Support#}
    TODO
    {#header_close#}

    {#header_open|csky Support#}
    TODO (glibc supported it but now llvm does too)
    {#header_close#}

    {#header_open|thumb2 Support#}
    TODO
    {#header_close#}

    {#header_open|bpf Support#}
    TODO Matthew Knight Add c_longdouble mapping for bpf (#7504)
    {#header_close#}

    {#header_open|msp430 Support#}
    TODO Nathan Michaels: Implement msp430 mapping for c_longdouble. (#7333)
    {#header_close#}

    {#header_open|sparc64 Support#}
    TODO stage1: set gen_frame_size alignment to work around requirement mismatch
    {#header_close#}
    {#header_close#}

    {#header_open|Documentation#}
    <ul>
      <li>The language reference is updated to reflect the changes to the language and
        standard library in this release cycle.</li>
      <li>Fixed {#syntax#}@reduce{#endsyntax#} documentation.</li>
      <li>Fixed operator precedence in the language reference.</li>
      <li>Improved documentation for string slices (#7454).</li>
      <li>Clarify confusing wording regarding <code>%</code> and <code>/</code></li>
      <li>Clarify that {#syntax#}@field{#endsyntax#} can work on declarations.</li>
      <li>Avoid concept of a "Unicode character" in documentation and error messages (#8059).</li>
      <li>Update docs and grammar to allow CRLF line endings (#8063).</li>
      <li>langref: Use "single-item pointer" and "many-item pointer" (#8217).</li>
      <li>docgen: use <code>std.Progress</code> API so that we see a terminal progress
          bar when waiting for the docs to build.</li>
      <li>docs: document the nosuspend keyword (#7972).</li>
      <li>Fix langref.html anchor navigation</li>
      <li>Add doc in `Anonymous Struct Literal` section for special @"0" syntax (#8630).</li>
    </ul>
    <p>
    Contributors: Andrew Kelley, Carlos Zúñiga, Dave Gauer, Devin Bayer, Eleanor Bartle, Frank Denis, Jakub Konka, Jay Petacat, Jonas Carpay, Josh Holland, Josh Wolfe, LemonBoy, Martin Wickham, Mathieu Guay-Paquet, Matthew Borkowski, Ryan Liptak, Tadeo Kondrak, Veikka Tuominen, data-man, g-w1, xackus
    </p>
    {#header_close#}

    {#header_open|Language Changes#}
    TODO language
  - delete packed enums from the language
    stage1: Require a block after suspend Closes #8603
  - Add {#syntax#}@extern{#endsyntax#}.

  - `zig test` no longer filters based on empty labels / nameless test blocks

  - remove @TagType
    - Tadeo Kondrak

  - Allow resume in nosuspend scope. Resuming a suspended async function call
    is actually a synchronous operation.

  - Allow async in nosuspend scope. Starting an async function call is actually
    a synchronous operation, since the caller is not awaiting on the callee for a return value.

  - add SysV calling convention

  - stage1: Allow wrapping negation on unsigned ints at comptime Closes #7951 Closes #8574

  - std.builtin re-arranging
    {#header_close#}

    {#header_open|Bootstrap Compiler#}
    <p>In the previous release, as well as this release, the main Zig compiler everybody uses
    is the bootstrap compiler, written in C++, also known as "stage1". Despite the main focus
    of this release cycle being the {#link|Self-Hosted Compiler#}, there were some improvements
    to stage1 as well.</p>
    <ul>
        <li>Fix not supporting comments in between multiline string literal lines</li>
        <li>Fix type mapping for c_longdouble</li>
        <li>Print correct error message for vector @intCast</li>
        <li>Fix comparison of unions containing zero-sized types (#7047)</li>
        <li>Avoid resolving type entry in [0]T (fixed #7058)</li>
        <li>Fix crash in comptime struct generation (#7027)</li>
        <li>Disambiguate Wasm imports with same name (#7088)</li>
        <li>Fix generation of pass-by-value args in async fns (#7104)</li>
        <li>Fix asyncCall with non-abi-aligned arguments</li>
        <li>Add architecture-specific clobbers to asm(). We're basically following Clang's
          lead, add the necessary clobbers to minimize the risk of generating wrong code.</li>
        <li>Allow Zig to be built with clang 11 and -Werror</li>
        <li>Reject undefined values when taking union ptr. (#7019)</li>
        <li>Improve error for missing a number type on a runtime var.</li>
        <li>Fix undefined assignment for bitfields. Prevents silent memory corruption. (#7055)</li>
        <li>Emit a compile error instead of falling back to C for unsupported calling convention. (#6829)</li>
        <li>Check calling convention correctly for subsystem detection.</li>
        <li>Resolve usingnamespace decls when calling {#syntax#}@typeInfo{#endsyntax#} (#7176).</li>
        <li>Fix ICE when generating struct fields with padding. (#5398)</li>
        <li>Force union member types to be resolved.</li>
        <li>Fix crash in *[N]T to []T conversion with zst (#6951).</li>
        <li>Add compile error for slice.len incremented beyond bounds (#7810).</li>
        <li>Fix {#syntax#}f128{#endsyntax#} codegen on Big Endian hosts.</li>
        <li>Resolve alignment earlier in {#syntax#}@alignCast{#endsyntax#} (#7744).</li>
        <li>Use correct format specifier for size_t parameters.</li>
        <li>Fix ssize_t definition.</li>
        <li>Remove stray brace in rarely-tested code path (#7614).</li>
        <li>Allow variable capture for multi-prong switch arms, handling the multi-prong
          case as we do with range cases (#7188).</li>
        <li>Let LLVM legalize the overflowing ops on vectors, because it is smart enough to
          produce tight overflow checking sequences.</li>
        <li>Prevent crash with some lazy pointer types (#7568).</li>
        <li>Validate pointer attributes when coercing anon literals.</li>
        <li>Implement type coercion of pointer to anon list to array/struct/union/slice.</li>
        <li>Implement type coercion of anon list to array.</li>
        <li>Create a new declaration scope for union enum types (#7532).</li>
        <li>Add peer type resolution with unsigned ints and larger signed ints.</li>
        <li>Fix bug in generic function monomorphization.</li>
        <li>Apply LLVM ssp attributes globally instead of per-function. Otherwise LLVM asserts with:
          "stack protected callee but caller requested no stack protector"</li>
        <li>Fix crashes (#7426, #7451, #7431).</li>
        <li>Validate the specified cc for lazy fn types (#7337).</li>
        <li>Fix initialization of single-element union tag.</li>
        <li>Fix constant folding of single-element enums.</li>
        <li>Add compile error for pointer arithmetic on ptr-to-array (#2018).</li>
        <li>Fix floating point parsing on BE systems (#7256).</li>
        <li>Fix typeInfo generation for arrays w/o sentinel (#7251).</li>
        <li>Add missing bitcast when rendering var ptr (#7250).</li>
        <li>Small improvement in C ABI support for return types.</li>
        <li>A few small memory usage optimizations.</li>
        <li>Put async frames in the correct LLVM address space.</li>
        <li>Fix for atomicrmw xchg on fp types (#4457).</li>
        <li>Rework tokenizer to match {#link|Self-Hosted Compiler#}. Mainly, this makes the
          stage1 and stage2 logic match each other, making it
          easier to maintain both at the same time. It is also a negligible memory
          usage improvement.</li>
        <li>Store target info in the LLVM module for every function. This is needed to
          let LLVM (or, better, libLTO) produce code using the target options
          specified by the user (#8803).</li>
        <li>Widen non byte-sized atomic loads/stores (#7976).</li>
        <li>Improve message for missing fn return type.</li>
        <li>Fix LLVM error in inline asm invocation (#3606).</li>
        <li>Improve how the async frame alignment is computed.</li>
        <li>More precise serialization of f16 values.</li>
        <li>Fix negation for zero floating point values.</li>
        <li>Resolve builtin types and values via <code>std.builtin</code> rather than via
          {#syntax#}@import("builtin"){#endsyntax#}. This helps avoid the need for
          {#syntax#}usingnamespace{#endsyntax#} used in <code>builtin.zig</code> or in
          <code>std.builtin</code>.</li>
    </ul>
    <p>
    The good news here is that nearly all these fixes come with additional behavior tests, which
    we can use to verify the {#link|Self-Hosted Compiler#} does not regress.
    </p>
    <p>
    One especially noteworthy change here is LemonBoy's fix to ask LLVM to produce compact
    code in -OReleaseSmall mode. Previously, using -OReleaseSmall sometimes resulted in 
    larger output binaries than -OReleaseFast! (#7048, #7077)
    </p>
    <p>
    <strong>Big, big thanks to LemonBoy</strong> for solving so many stage1 bugs during this release cycle. This
    is high effort, low-appreciation, huge-impact work that he has been doing. But in reality
    he has been single-handedly keeping us afloat while we work towards finishing the
    {#link|Self-Hosted Compiler#}.
    </p>
    <p>Contributors: Al Hoang, Alexandros Naskos, Andrew Kelley, Isaac Freund, Jakub Konka, Jay Petacat, Josh Wolfe, Koakuma, Lee Cannon, LemonBoy, Mathieu Guay-Paquet, Matthew Knight, Michael Dusan, Nathan Michaels, Sizhe Zhao, Sreehari S, Tadeo Kondrak, Timon Kruiper, Veikka Tuominen, Woze Parrot, frmdstryr, g-w1, lars, pfg, xackus</p>

    {#header_open|LLVM 12#}
    <p>
    This release of Zig upgrades to
    <a href="http://releases.llvm.org/12.0.0/docs/ReleaseNotes.html">LLVM 12</a>.
    </p>
    <p>
    TODO
    </p>
    {#header_close#}

    {#header_close#}

    {#header_open|Self-Hosted Compiler#}
    <p>The main focus of this release cycle was the self-hosted compiler (also known
    as "stage2"). There is a lot to talk about here:</p>
    <ul>
      <li>Show passing test cases that self-hosted is now capable of</li>
      <li>Performance demo</li>
      <li>Mention the architecture of the stage2 compiler and note the 
      main contributors who have stepped up to work on the various parts of it.</li>
      <li>Explain the bootstrapping plan</li>
    </ul>

    {#header_open|Command-Line Interface#}
    TODO

    fix issue #6798: zig init-lib doesn't accept -h flag

Contributors: Guoxin Yin


    {#header_close#}

    {#header_open|Reworked Memory Layout#}
    TODO
tokenizer memory layout
ast memory layout
zir memory layout
  - thanks to the contributors who helped out
    {#header_close#}

    {#header_open|Whole-File AST Lowering#}
    TODO
    {#header_close#}

    {#header_open|Backend: x86-64#}
    TODO
    {#header_close#}

    {#header_open|Backend: AArch64#}
    TODO
    {#header_close#}

    {#header_open|Backend: ARM#}
    TODO
    {#header_close#}

    {#header_open|Backend: LLVM#}
    TODO
    {#header_close#}

    {#header_open|Backend: WebAssembly#}
    TODO
    {#header_close#}

    {#header_open|Backend: SPU Mark II#}
    TODO
    {#header_close#}

    {#header_open|Backend: RISC-V 64#}
    TODO
    {#header_close#}

    {#header_open|Backend: C#}
    TODO
    {#header_close#}

    {#header_open|Backend: SPIR-V#}
    TODO
    {#header_close#}
    {#header_close#}

    {#header_open|Standard Library#}

the std.testing change

    Don't prevent compilation on platforms where debug info is unsupported
    
    We don't support debug information on platforms that are not tier-1,
    but it shouldn't be a hard error that completely prevents compilation.


    Add mem.timingSafeEql() for constant-time array comparison
    
    This is a trivial implementation that just does a or[xor] loop.
    
    However, this pattern is used by virtually all crypto libraries and
    in practice, even without assembly barriers, LLVM never turns it into
    code with conditional jumps, even if one of the parameters is constant.
    
    This has been verified to still be the case with LLVM 11.0.0.

    remove deprecated uses of ArrayList.span
    make ArrayList.span into a compile error

    std: Make utf8CountCodepoints much faster
    
    Make the code easier for the optimizer to work with and introduce a fast
    path for ASCII sequences.
    
    Introduce a benchmark harness to start tracking the performance of ops
    on utf8.

    Make std.formatBuf UTF-8 aware
    Clean up the unicode codepoint formatter a bit
    std: Introduce std.unicode.utf8ValidCodepoint
    std: Introduce std.unicode.utf8CountCodepoints


    std: add LinearFifo(...).pump(src_reader, dest_writer)

    make Version.parse less strict

    Add support for comments in multiline string literal

    Add 'u' specifier to std.format

<p>Contributors: Adam Goertz, Aiz672, Al Hoang, Alex Cameron, Alexandros Naskos, Anders Conbere, Andreas Karlsson, Andreas Linz, Andrew Kelley, Aransentin, Asherah Connor, Benjamin Feng, Benjamin Graf, Bill Nagel, BinaryWarlock, Bxil, Cameron Conn, Carlos Zúñiga, Daniele Cocca, Devin Bayer, Dmitry Atamanov, Edward Dean, Ethan Gruffudd, Evan Haas, Felix (xq) Queißner, Frank Denis, Guillaume Ballet, Hadron67, Hannu Hartikainen, Hubert Jasudowicz, Isaac Freund, Isaac Yonemoto, J.C. Moyer, Jakub Konka, Jay Petacat, Jens Goldberg, Jonathan Knezek, Jonathan Marler, Joran Dirk Greef, Joris Hartog, Josh Holland, Josh Wolfe, Julian Maingot, Julius Putra Tanu Setiaji, Kenta Iwasaki, Koakuma, Lee Cannon, LemonBoy, Lewis Gaul, Loris Cro, Luna, Luuk de Gram, Maciej Walczak, Mahdi Khanalizadeh, Manuel Floruß, Martin Wickham, Mathieu Guay-Paquet, Matt Knight, Matt Sicker, Matthew Borkowski, Meghan, Meghan Denny, Michael Dusan, Michael Freundorfer, Michael Holmes, Miles Alan, Nathanaël Courant, Nuno Leiria, Rageoholic, Robin Voetter, Rocknest, Rohlem, Ryan Greenblatt, Ryan Liptak, Sage Hane, Sahnvour, Shachaf Ben-Kiki, Sobeston, Sreehari S, Sébastien Marie, Tadeo Kondrak, Tau, Timon Kruiper, Travis, Veikka Tuominen, Vincent Rischmann, Yorhel, Zander Khan, ZapAnton, aiz, antlilja, breakin, christian-stephen, cryptocode, data-man, daurnimator, ducdetronquito, fancl20, frmdstryr, g-w1, gracefu, heidezomp, johnLate, jumpnbrownweasel, lithdew, luna, mason1920, rgreenblatt, root, ryuukk, tgschultz, viri, xackus, Žiga Željko</p>

    {#header_close#}

    {#header_open|Toolchain#}
TODO tooling:
    zig-cache/bin -> zig-out/bin (#8659)

    ability to build stage1 using only a zig tarball 5a65caa2a3686e12e4dfcfd599ed02f8a09c6017

    tsan /  -fsanitize-thread

    -mno-red-zone

    LTO support, across zig and c/c++. #2845

    make "gnu" (mingw-w64) the default C ABI on Windows Closes #6565

    {#header_open|musl 1.2.2#}
    <p>
    Zig ships with the source code to <a href="https://www.musl-libc.org/">musl</a>.
    When the musl C ABI is selected, Zig builds musl from source for the selected target.
    </p>
    <p>
    This release updates the bundled musl source code to
    <a href="https://musl.libc.org/releases.html">v1.2.2</a>.
    </p>
    {#header_close#}

    {#header_open|glibc 2.33#}
    <p>
    Zig gains the ability to target
    <a href="https://sourceware.org/pipermail/libc-alpha/2021-February/122207.html">glibc 2.33</a>
    in addition to the other 43 glibc versions.
    </p>
    TODO -lcrypt

    {#header_close#}

    {#header_open|mingw-w64 9.0.0#}
    <p>
    Zig ships with the source code to <a href="https://mingw-w64.org/">mingw-w64</a>.
    When targeting *-windows-gnu and linking against libc, Zig builds mingw-w64 from source
    for the selected target.
    </p>
    <p>
    This release updates the bundled mingw-w64 source code to
    <a href="https://sourceforge.net/p/mingw-w64/mailman/message/37287751/">v9.0.0</a>.
    </p>
    {#header_close#}

    {#header_open|zig ar#}
    TODO
    {#header_close#}

    {#header_open|zig cc#}
    TODO
    {#header_close#}

    {#header_open|zig c++#}
    TODO
    {#header_close#}
    {#header_close#}

    {#header_open|Bug Fixes#}
    <p>
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aclosed+is%3Aissue+label%3Abug+milestone%3A0.8.0+">Full list of the 106 bug reports closed during this release cycle</a>.
    </p>
    <p>
    Note: many bugs were both introduced and resolved within this release cycle.
    </p>

TODO
LemonBoy -std: Make C allocator respect the required alignment
    Use posix_memalign where available and the _aligned_{malloc,free} API on
    Windows. Closes #3783

    {#header_open|This Release Contains Bugs#}
    <p>
    Zig has
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Abug">known bugs</a>
    and even some
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Amiscompilation">miscompilations</a>.
    </p>
    <p>Zig is immature. Even with Zig 0.8.0, working on a non-trivial project using Zig will
    likely require participating in the development process.</p>
    <p>When Zig reaches 1.0.0, a new requirement for {#link|Tier 1 Support#} will be
    0 known bugs for that target.</p>
    <p>
    A <a href="https://github.com/ziglang/zig/milestone/12">0.8.1 release</a> is planned.
    </p>
    {#header_close#}
    {#header_close#}

    {#header_open|Test Coverage#}
    TODO data-man Add more tests for reduce
    {#header_close#}

    {#header_open|News#}

    {#header_open|Please Welcome Frank Denis to the Core Zig Team#}
    <p>TODO</p>
    {#header_close#}

    {#header_open|Please Welcome kprotty to the Core Zig Team#}
    <p>TODO</p>
    {#header_close#}

    {#header_close#}

    {#header_open|Roadmap#}
    <p>
    According to the
    <a href="https://ziglang.org/download/0.7.0/release-notes.html#Roadmap">0.7.0 Roadmap</a>,
    the major theme of the 0.8.0 release was supposed to be <strong>stabilizing the language</strong>,
    <strong>creating a first draft of the language specification</strong>, and
    <strong>self-hosting the compiler</strong>.
    </p>
    <p>TODO</p>
    <p>
    The major goal of the 0.9.0 release cycle is to finish the self-hosted compiler and ship it,
    deleting the C++ implementation of Zig. If you are concerned about bootstrapping, see this
    issue:
    <a href="https://github.com/ziglang/zig/issues/6378">#6378: Allow the feature of O(1) bootstrapping to temporarily regress</a>
    </p>

    {#header_open|Package Manager Status#}
    <p>
    Having a package manager built into the Zig compiler is a
    <a href="https://github.com/ziglang/zig/issues/943">long-anticipated feature</a>.
    Zig 0.8.0 does not have this feature.
    </p>
    <p>
    If the package manager works well, people will use it, which means building Zig projects
    will involve compiling more lines of Zig code, which means the Zig compiler must get faster,
    better at incremental compilation, and better at resource management.
    </p>
    <p>
    Therefore, the package manager depends on finishing the
    {#link|Self-Hosted Compiler#}, since it is planned to have these
    improved performance characteristics, while stage1 is not planned to have them.
    </p>
    {#header_close#}

    {#header_open|Accepted Proposals#}
    <p>
    If you want more of a sense of the direction Zig is heading, you can look at
    <a href="https://github.com/ziglang/zig/issues?q=is%3Aopen+is%3Aissue+label%3Aaccepted">the set of accepted proposals</a>.
    </p>
    {#header_close#}
    {#header_close#}

    {#header_open|Thank You LavaTech#}
    <p>Special thanks to Ave and Luna of <a href="https://lavatech.top/">LavaTech</a>, who are
    hosting an instance of <a href="https://sourcehut.org/">SourceHut</a> for our Continuous Integration
    pipeline, but with more RAM than the main sr.ht service allows. Thanks to this, FreeBSD now has
    significantly more test coverage, most notably all the standard library tests.</p>
    {#header_close#}

    {#header_open|Thank You Sponsors!#}
    <p>
    Special thanks to those who <a href="https://github.com/sponsors/ziglang/">sponsor Zig</a>.
    Because of you, Zig is driven by the open source community, rather than the goal of making profit.
    In particular, these fine folks sponsor Zig for $50/month or more:
    </p>
    <ul style="columns: 3">
      TODO
    </ul>
    {#header_close#}
    </div>
  </body>
</html>

TODO LemonBoy - Initial support for static PIE executables

